<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Browser Discovery Task</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <h1>Browser Discovery Lab</h1>
        <p>Resize window  to 175% to see layout changes (Task 2)</p>
    </header>

    <main class="container">
        <section class="card">
            <h2>Task 3: Memory Experiment</h2>
            <p>Enter your name. Refresh the page. It stays!</p>
            <input type="text" id="username" placeholder="Type name here...">
            <button onclick="saveName()">Save to Memory</button>
            <p id="greeting"></p>
        </section>

        <section class="card">
            <h2>Task 4: Offline Tracker</h2>
            <div class="stats-box">
                <p>Total Visits: <span id="visit-count">0</span></p>
                <p>Last Visit: <span id="last-time">Never</span></p>
            </div>
            <p><em>Try turning off WiFi and reloading!</em></p>
        </section>

        <section class="card observation">
            <h2>Final Observations</h2>
            <ul>
                <li><strong>Viewport:</strong> Without the tag, the page zoomed out and text became unreadable on mobile.</li>
                <li><strong>Breakpoints:</strong> Layout shifts from single column to double column at 768px.</li>
                <li><strong>Offline Data:</strong> Visit count and Name persisted even without internet connection.</li>
            </ul>
        </section>
    </main>

    <script>
        const nameInput = document.getElementById('username');
        const greetingDisplay = document.getElementById('greeting');

        if(localStorage.getItem('savedName')) {
            nameInput.value = localStorage.getItem('savedName');
            greetingDisplay.textContent = "Welcome back, " + localStorage.getItem('savedName');
        }

        function saveName() {
            const name = nameInput.value;
            localStorage.setItem('savedName', name);
            greetingDisplay.textContent = "Saved! Refresh to test persistence.";
        }

        let visits = localStorage.getItem('visitCount') || 0;
        visits++; 
        localStorage.setItem('visitCount', visits);
        document.getElementById('visit-count').textContent = visits;

        const now = new Date();
        const lastVisit = localStorage.getItem('lastVisitTime') || "First time!";
        document.getElementById('last-time').textContent = lastVisit;
        localStorage.setItem('lastVisitTime', now.toLocaleString());
    </script>

</body>
</html>